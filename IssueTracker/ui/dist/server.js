!function(e){var t={};function n(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=15)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-bootstrap")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("react-router-bootstrap")},function(e,t){e.exports=require("react-bootstrap-icons")},function(e,t){e.exports=require("@ungap/url-search-params")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("webpack")},function(e,t){e.exports=require("dotenv")},function(e,t){e.exports=require("http-proxy-middleware")},function(e,t){e.exports=require("isomorphic-fetch")},function(e,t){e.exports=require("serialize-javascript")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("source-map-support")},function(e,t,n){e.exports=n(20)},function(e,t){e.exports=require("webpack-dev-middleware")},function(e,t){e.exports=require("webpack-hot-middleware")},function(e,t,n){(function(t){const a=n(6),s=n(19),r=n(8),o={mode:"development",entry:{app:["./browser/App.jsx"]},output:{filename:"[name].bundle.js",path:a.resolve(t,"public"),publicPath:"/"},plugins:[new r.DefinePlugin({__isBrowser__:"true"})],module:{rules:[{test:/\.jsx?$/,exclude:/node_modules/,use:{loader:"babel-loader",options:{presets:[["@babel/preset-env",{targets:{ie:"11",edge:"15",safari:"10",firefox:"50",chrome:"49"}}],"@babel/preset-react"]}}}]},optimization:{splitChunks:{name:"vendor",chunks:"all"}},devtool:"source-map"},l={mode:"development",entry:{server:["./server/uiserver.js"]},target:"node",externals:[s()],plugins:[new r.DefinePlugin({__isBrowser__:"false"})],output:{filename:"server.js",path:a.resolve(t,"dist"),publicPath:"/"},module:{rules:[{test:/\.jsx?$/,use:{loader:"babel-loader",options:{presets:[["@babel/preset-env",{targets:{node:"10"}}],"@babel/preset-react"]}}}]},devtool:"source-map"};e.exports=[o,l]}).call(this,"/")},function(e,t){e.exports=require("webpack-node-externals")},function(e,t,n){"use strict";n.r(t);var a=n(7),s=n.n(a),r=n(9),o=n.n(r),l=n(10),i=n(6),u=n.n(i),c=n(0),h=n.n(c);var d={},m=n(11),p=n.n(m);const E=new RegExp("^\\d\\d\\d\\d-\\d\\d-\\d\\d");function f(e,t){return E.test(t)?new Date(t):t}async function g(e,t={},n=null){const a=process.env.UI_SERVER_API_ENDPOINT;console.log(process.env.UI_SERVER_API_ENDPOINT);try{const s=await p()(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,variables:t})}),r=await s.text(),o=JSON.parse(r,f);if(o.errors){const e=o.errors[0];if("BAD_USER_INPUT"===e.extensions.code){const t=e.extensions.exception.errors.join("\n ");n?n(`${e.message}:\n${t}`):alert(`${e.message}:\n${t}`)}else n?n(`${e.extensions.code}: ${e.message}`):alert(`${e.extensions.code}: ${e.message}`)}return o.data}catch(e){return n&&n("Error in sending data to server: "+e.message),e}}class v extends h.a.Component{constructor(e){super(e);const t=d.intialData?d.intialData.about:null;delete d.intialData,this.state={apiAbout:t}}static async fetchData(){return await g("query {about} ")}async componentDidMount(){const{apiAbout:e}=this.state;if(null==e){const e=await v.fetchData();this.setState({apiAbout:e.about})}}render(){const{apiAbout:e}=this.state;return h.a.createElement("div",{className:"text-center"},h.a.createElement("h3",null,"Issue Tracker Version 0.9"),h.a.createElement("h4",null,e))}}var b=n(12),w=n.n(b);var C=n(13),y=n.n(C),I=n(2),S=n(1),x=n(3),D=n(4),F=n(5),M=n.n(F);class N extends h.a.Component{constructor({location:{search:e}}){super();const t=new M.a(e);this.state={status:t.get("status")||"",effortMin:t.get("effortMin")||"",effortMax:t.get("effortMax")||""},this.applyFilter=this.applyFilter.bind(this),this.onChangeStatus=this.onChangeStatus.bind(this),this.showOriginalFilter=this.showOriginalFilter.bind(this),this.onChangeEffortMax=this.onChangeEffortMax.bind(this),this.onChangeEffortMin=this.onChangeEffortMin.bind(this)}componentDidUpdate(e){const{location:{search:t}}=e,{location:{search:n}}=this.props;t!==n&&this.showOriginalFilter()}onChangeEffortMax(e){e.target.value.match(/^\d*$/)&&this.setState({effortMax:e.target.value,changed:!0})}onChangeStatus(e){this.setState({status:e.target.value,changed:!0})}onChangeEffortMin(e){e.target.value.match(/^\d*$/)&&this.setState({effortMin:e.target.value,changed:!0})}showOriginalFilter(){const{location:{search:e}}=this.props,t=new M.a(e);this.setState({status:t.get("status")||"",effortMin:t.get("effortMin")||"",effortMax:t.get("effortMax")||"",changed:!1})}applyFilter(){const{status:e,effortMin:t,effortMax:n}=this.state,{history:a}=this.props,s=new M.a;e&&s.set("status",e),t&&s.set("effortMin",t),n&&s.set("effortMax",n);const r=s.toString()?"?"+s.toString():"";a.push({pathname:"/issues",search:r})}render(){const{location:{search:e}}=this.props,{status:t,changed:n,effortMin:a,effortMax:s}=(new M.a(e),this.state);return h.a.createElement(S.Row,null,h.a.createElement(S.Col,{xs:6,sm:4,md:3,lg:2},h.a.createElement(S.FormGroup,null,h.a.createElement(S.FormLabel,null,"Status  "),h.a.createElement(S.FormControl,{as:"select",value:t,onChange:this.onChangeStatus},h.a.createElement("option",{value:""},"(ALL)"),h.a.createElement("option",{value:"New"},"New"),h.a.createElement("option",{value:"Assigned"},"Assigned"),h.a.createElement("option",{value:"Fixed"},"Fixed")))),h.a.createElement(S.Col,{xs:6,sm:4,md:3,lg:2},h.a.createElement(S.FormGroup,null,h.a.createElement(S.FormLabel,null,"Effort Between:"),h.a.createElement(S.InputGroup,null,h.a.createElement(S.FormControl,{value:a,onChange:this.onChangeEffortMin}),h.a.createElement(S.InputGroup.Prepend,null,h.a.createElement(S.InputGroup.Text,{id:"basic-addon3"},"-")),h.a.createElement(S.FormControl,{value:s,onChange:this.onChangeEffortMax})))),h.a.createElement(S.Col,{xs:6,sm:4,md:3,lg:2},h.a.createElement(S.FormGroup,null,h.a.createElement(S.FormLabel,null," "),h.a.createElement(S.ButtonToolbar,null,h.a.createElement(S.ButtonGroup,{className:"mr-2"},h.a.createElement(S.Button,{variant:"primary",onClick:this.applyFilter},"Apply")),h.a.createElement(S.ButtonGroup,null,h.a.createElement(S.Button,{variant:"primary",onClick:this.showOriginalFilter,disabled:!n},"Reset"))))))}}var T=Object(I.withRouter)(N);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const A=Object(I.withRouter)(({issue:e,location:{search:t},closeIssue:n,index:a,deleteIssue:s})=>{const r={pathname:"/issues/"+e.id,search:t},o=h.a.createElement(S.Tooltip,{id:"close-ToolTip",placement:"bottom"},"Close Issue");const l=h.a.createElement("tr",null,h.a.createElement("td",null,e.id),h.a.createElement("td",null,e.status),h.a.createElement("td",null,e.owner),h.a.createElement("td",null,e.created.toDateString()),h.a.createElement("td",null,e.effort),h.a.createElement("td",null,e.due?e.due.toDateString():""),h.a.createElement("td",null,e.title),h.a.createElement("td",null,h.a.createElement(S.OverlayTrigger,{placement:"bottom",delayShow:1e3,overlay:function(e){return h.a.createElement(S.Tooltip,O({id:"edit-tooltip"},e),"Edit Issue")}},h.a.createElement(x.LinkContainer,{to:"/edit/"+e.id},h.a.createElement(S.Button,{size:"sm"},h.a.createElement(D.PencilSquare,null)))),"   ",h.a.createElement(S.OverlayTrigger,{delayShow:1e3,overlay:o,placement:"bottom"},h.a.createElement(S.Button,{size:"sm",onClick:function(e){e.preventDefault(),n(a)}},h.a.createElement(D.X,null))),"   ",h.a.createElement(S.OverlayTrigger,{placement:"bottom",delayShow:1e3,overlay:function(e){return h.a.createElement(S.Tooltip,O({id:"delete-tooltip"},e),"Delete Issue")}},h.a.createElement(S.Button,{size:"sm",onClick:function(e){e.preventDefault(),s(a)}},h.a.createElement(D.Trash,null)))));return h.a.createElement(x.LinkContainer,{to:r},l)});function _({issues:e,closeIssue:t,deleteIssue:n}){const a=e.map((e,a)=>h.a.createElement(A,{key:e.id,issue:e,closeIssue:t,index:a,deleteIssue:n}));return h.a.createElement(S.Table,{bordered:!0,condensed:!0,hover:!0,responsive:!0},h.a.createElement("thead",null,h.a.createElement("tr",null,h.a.createElement("th",null,"ID"),h.a.createElement("th",null,"Status"),h.a.createElement("th",null,"Owner"),h.a.createElement("th",null,"Created"),h.a.createElement("th",null,"Effort"),h.a.createElement("th",null,"Due Date"),h.a.createElement("th",null,"Title"),h.a.createElement("th",null,"Action"))),h.a.createElement("tbody",null,a))}class B extends h.a.Component{constructor(){super(),this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(e){e.preventDefault();const t=document.forms.issueAdd,n={owner:t.owner.value,title:t.title.value,due:new Date((new Date).getTime()+864e6)},{createIssue:a}=this.props;a(n),t.owner.value="",t.title.value=""}render(){return h.a.createElement(S.Form,{inline:!0,name:"issueAdd",onSubmit:this.handleSubmit},h.a.createElement(S.FormGroup,{className:"mr-2"},h.a.createElement(S.FormLabel,{className:"mr-2"},"Owner:")," ",h.a.createElement(S.FormControl,{type:"text",name:"owner"})),h.a.createElement(S.FormGroup,null," ",h.a.createElement(S.FormLabel,{className:"mr-2"},"Title:")," ",h.a.createElement(S.FormControl,{type:"text",name:"title",className:"mr-2"})),h.a.createElement(S.Button,{variant:"primary",type:"submit"},"Add"))}}function k({issue:e}){return e?h.a.createElement("div",null,h.a.createElement("h3",null,"Description"),h.a.createElement("pre",null,e.description)):null}class P extends h.a.Component{constructor(){super();const e=d.intialData?d.intialData.issueList:null,t=d.intialData?d.intialData.issue:null;delete d.intialData,this.state={issues:e,selectedIssue:t,toastMessage:"",toastShow:!1},this.createIssue=this.createIssue.bind(this),this.closeIssue=this.closeIssue.bind(this),this.deleteIssue=this.deleteIssue.bind(this),this.showError=this.showError.bind(this)}static async fetchData(e,t,n){const a=new M.a(t),s={hasSelection:!1,selectedId:0},{params:{id:r}}=e,o=parseInt(r,10);Number.isNaN(o)||(s.hasSelection=!0,s.selectedId=o),a.get("status")&&(s.status=a.get("status"));const l=parseInt(a.get("effortMin"),10);Number.isNaN(l)||(s.effortMin=l);const i=parseInt(a.get("effortMax"),10);Number.isNaN(i)||(s.effortMax=i);return await g("\n          query issueList(\n            $hasSelection:Boolean!\n            $selectedId: Int!\n            $status:StatusType\n            $effortMin: Int\n            $effortMax: Int\n            ){\n              issueList(\n                status:$status\n                effortMin: $effortMin\n                effortMax: $effortMax\n                ){\n                  id\n                  status\n                  owner\n                  title\n                  effort\n                  created\n                  due\n              }\n              issue(id: $selectedId) @include (if: $hasSelection) {\n                id description\n              }\n          }",s,this.showError)}async componentDidMount(){const{issues:e}=this.state;null==e&&this.loadData()}componentDidUpdate(e){const{location:{search:t},match:{params:{id:n}}}=e,{location:{search:a},match:{params:{id:s}}}=this.props;t===a&&n===s||this.loadData()}showError(e){this.setState({toastShow:!0,toastMessage:e})}showSucess(e){this.setState({toastShow:!0,toastMessage:e})}async loadData(){const{location:{search:e},match:t}=this.props,n=await P.fetchData(t,e,this.showError);n&&this.setState({issues:n.issueList,selectedIssue:n.issue})}async closeIssue(e){const{issues:t}=this.state,n=await g("mutation issueClose($id: Int!){\n      issueUpdate(id: $id, changes: {status: Closed}) {\n        id title status owner \n        effort created due description\n      }\n    }",{id:t[e].id});n?(this.setState(t=>{const a=[...t.issues];return a[e]=n.issueUpdate,{issues:a}}),this.showSucess("Issue closed")):this.loadData()}async deleteIssue(e){const{issues:t}=this.state,{location:{pathname:n,search:a},history:s}=this.props,{id:r}=t[e],o=await g("mutation issueDelete($id: Int!){\n      issueDelete(id: $id)\n    }",{id:r});o&&o.issueDelete?(this.setState(t=>{const o=[...t.issues];return n==="/issues/"+r&&s.push({pathname:"/issues",search:a}),o.splice(e,1),{issues:o}}),this.showSucess("Issue Deleted successfully")):this.loadData()}async createIssue(e){await g("mutation issueAdd($issue:IssueInputs!){\n                  issueAdd(issue:$issue){\n                      id\n                  }\n              }",{issue:e},this.showError)&&(this.loadData(),this.showSucess("Issue Added sucessfully"))}render(){const{issues:e}=this.state,{selectedIssue:t}=this.state;if(null==e)return null;const{match:n}=this.props,{toastShow:a,toastMessage:s}=this.state;return h.a.createElement(h.a.Fragment,null,h.a.createElement(S.Accordion,{defaultActiveKey:"0"},h.a.createElement(S.Card,null,h.a.createElement(S.Accordion.Toggle,{as:S.Card.Header,eventKey:"0"},h.a.createElement(S.Card.Title,null,"Filter")),h.a.createElement(S.Accordion.Collapse,{eventKey:"0"},h.a.createElement(S.Card.Body,null,h.a.createElement(T,null))))),h.a.createElement(_,{issues:e,closeIssue:this.closeIssue,deleteIssue:this.deleteIssue}),h.a.createElement(B,{createIssue:this.createIssue}),h.a.createElement(S.Toast,{show:a,delay:3e3,onClose:()=>this.setState({toastShow:!1}),autohide:!0},h.a.createElement(S.Toast.Body,null," ",s)),h.a.createElement(k,{issue:t}))}}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}class j extends h.a.Component{constructor(e){var t;super(e),this.state={value:(t=e.value,null!=t?t.toString():"")},this.onChange=this.onChange.bind(this),this.onBlur=this.onBlur.bind(this)}onChange(e){e.target.value.match(/^\d*$/)&&this.setState({value:e.target.value})}onBlur(e){const{onChange:t}=this.props,{value:n}=this.state;t(e,function(e){const t=parseInt(e,10);return Number.isNaN(t)?null:t}(n))}render(){const{value:e}=this.state;return h.a.createElement("input",$({type:"text"},this.props,{value:e,onBlur:this.onBlur,onChange:this.onChange}))}}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}class L extends h.a.Component{constructor(e){var t;super(e),this.state={value:(t=e.value,t?new Date(t).toISOString().substr(0,10):""),focused:!1,valid:!0},this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.onChange=this.onChange.bind(this)}onFocus(){this.setState({focused:!0})}onBlur(e){const{value:t,valid:n}=this.state,{onValidityChange:a,onChange:s}=this.props,r=function(e){const t=new Date(e);return Number.isNaN(t.getTime())?null:t}(t),o=""===t||null!=r;o!==n&&a&&a(e,o),this.setState({focused:!1,valid:o}),o&&s(e,r)}onChange(e){e.target.value.match(/^[\d-]*$/)&&this.setState({value:e.target.value})}render(){const{valid:e,focused:t,value:n}=this.state,{value:a,onValidityChange:s,...r}=this.props,o=t||!e?n:(l=a)?new Date(l).toDateString():"";var l;return h.a.createElement("input",R({},r,{value:o,placeholder:t?"yyyy-mm-dd":null,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange}))}}class V extends h.a.Component{constructor(e){var t;super(e),this.state={value:(t=e.value,null!=t?t:"")},this.onBlur=this.onBlur.bind(this),this.onChange=this.onChange.bind(this)}onChange(e){this.setState({value:e.target.value})}onBlur(e){const{onChange:t}=this.props,{value:n}=this.state;var a;t(e,0===(a=n).trim().length?null:a)}render(){const{value:e}=this.state,{tag:t="input",...n}=this.props;return h.a.createElement(t,{...n,value:e,onBlur:this.onBlur,onChange:this.onChange})}}class q extends h.a.Component{constructor(){const e=d.intialData?d.intialData.issue:null;delete d.intialData,super(),this.state={issue:e,invalidFields:{},showingValidation:!1,showToast:!1,toastMessage:""},this.onChange=this.onChange.bind(this),this.onValidityChange=this.onValidityChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.showValidation=this.showValidation.bind(this),this.dismissValidation=this.dismissValidation.bind(this),this.showError=this.showError.bind(this)}static async fetchData(e,t,n){let{params:{id:a}}=e;a=parseInt(a,10);return await g(" query issue($id: Int!) {\n        issue(id: $id) {\n          id title status owner effort created\n          due description\n        }\n      }",{id:a},n)}componentDidMount(){const{issue:e}=this.state;null==e&&this.loadData()}componentDidUpdate(e){const{match:{params:{id:t}}}=e,{match:{params:{id:n}}}=this.props;t!==n&&this.loadData()}onChange(e,t){const{name:n,value:a}=e.target,s=void 0===t?a:t;this.setState(e=>({issue:{...e.issue,[n]:s}}))}onValidityChange(e,t){const{name:n}=e.target;this.setState(e=>{const a={...e.invalidFields,[n]:!t};return t&&delete a[n],{invalidFields:a}})}async handleSubmit(e){e.preventDefault(),this.showValidation();const{issue:t,invalidFields:n,showingValidation:a}=this.state;if(console.log(a),0!==Object.keys(n).length)return;const{id:s,created:r,...o}=t,l=await g("mutation issueUpdate(\n      $id: Int!\n      $changes: issueUpdateInputs!\n    ){\n      issueUpdate(\n        id: $id\n        changes: $changes\n      ){\n        id title status owner created effort\n        due description\n      }\n    }",{changes:o,id:s});l&&(this.setState({issue:l.issueUpdate}),console.log("After query "),this.showError("Updated issue successfully"))}dismissValidation(){this.setState({showingValidation:!1})}showValidation(){this.setState({showingValidation:!0})}showError(e){this.setState({showToast:!0,toastMessage:e})}async loadData(){const{match:e}=this.props,t=await q.fetchData(e,null,this.showError);this.setState({issue:t?t.issue:{},invalidFields:{}})}render(){const{issue:e}=this.state;if(null==e)return null;const{issue:{id:t}}=this.state;console.log(t);const{match:{params:{id:n}}}=this.props;if(null==t)return null!=n?h.a.createElement("h3",null,`Issue with ID ${n} not found`):null;const{issue:{title:a,status:s}}=this.state,{issue:{owner:r,effort:o,description:l}}=this.state,{issue:{created:i,due:u}}=this.state,{invalidFields:c,showingValidation:d,toastMessage:m,showToast:p}=this.state;let E;return 0!==Object.keys(c).length&&d&&(E=h.a.createElement(S.Alert,{dismissible:!0,variant:"danger",onClose:this.dismissValidation},"Please correct invalid fields before submitting")),h.a.createElement(S.Accordion,{defaultActiveKey:"0"},h.a.createElement(S.Card,null,h.a.createElement(S.Accordion.Toggle,{as:S.Card.Header,eventKey:"0"},h.a.createElement(S.Card.Title,null,"Editing issue "+t)),h.a.createElement(S.Accordion.Collapse,{eventKey:"0"},h.a.createElement(S.Card,null,h.a.createElement(S.Card.Body,null,h.a.createElement(S.Form,{noValidate:!0,horizontal:!0,onSubmit:this.handleSubmit},h.a.createElement(S.FormGroup,null,h.a.createElement(S.Row,null,h.a.createElement(S.Col,{sm:3},"Created:"),h.a.createElement(S.Col,{sm:9},h.a.createElement(S.Form.Control,{plaintext:!0,readOnly:!0,defaultValue:i.toDateString()})))),h.a.createElement(S.FormGroup,null,h.a.createElement(S.Row,null,h.a.createElement(S.Col,{sm:3},"Status:"),h.a.createElement(S.Col,{sm:9},h.a.createElement(S.FormControl,{as:"select",value:s,onChange:this.onChange,name:"status"},h.a.createElement("option",{value:"New"},"New"),h.a.createElement("option",{value:"Assigned"},"Assigned"),h.a.createElement("option",{value:"Fixed"},"Fixed"),h.a.createElement("option",{value:"Closed"},"Closed"))))),h.a.createElement(S.FormGroup,null,h.a.createElement(S.Row,null,h.a.createElement(S.Col,{sm:3},"Owner:"),h.a.createElement(S.Col,{sm:9},h.a.createElement(S.FormControl,{as:V,value:r,onChange:this.onChange,key:t,name:"owner"})))),h.a.createElement(S.FormGroup,null,h.a.createElement(S.Row,null,h.a.createElement(S.Col,{sm:3},"Effort:"),h.a.createElement(S.Col,{sm:9},h.a.createElement(S.FormControl,{as:j,value:o,onChange:this.onChange,key:t,name:"effort"})))),h.a.createElement(S.FormGroup,null,h.a.createElement(S.Row,null,h.a.createElement(S.Col,{sm:3},"Due:"),h.a.createElement(S.Col,{sm:9},h.a.createElement(S.FormControl,{as:L,value:u,pattern:"[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])",onChange:this.onChange,onValidityChange:this.onValidityChange,name:"due",key:t}),h.a.createElement(S.Form.Control.Feedback,{type:"invalid"},"Looks good!")))),h.a.createElement(S.FormGroup,null,h.a.createElement(S.Row,null,h.a.createElement(S.Col,{sm:3},h.a.createElement(S.FormLabel,null,"Title:")),h.a.createElement(S.Col,{sm:9},h.a.createElement(S.FormControl,{as:V,value:a,onChange:this.onChange,name:"title",key:t})))),h.a.createElement(S.FormGroup,null,h.a.createElement(S.Row,null,h.a.createElement(S.Col,{sm:3},"Description:"),h.a.createElement(S.Col,{sm:9},h.a.createElement(S.FormControl,{as:V,tag:"textarea",value:l,onChange:this.onChange,key:t,name:"description"})))),h.a.createElement(S.FormGroup,null,h.a.createElement(S.Row,null,h.a.createElement(S.Col,{sm:3},h.a.createElement(S.Toast,{show:p,delay:3e3,onClose:()=>this.setState({showToast:!1}),autohide:!0},h.a.createElement(S.Toast.Body,null," ",m))),h.a.createElement(S.Col,{sm:6},h.a.createElement(S.ButtonToolbar,null,h.a.createElement(S.ButtonGroup,{className:"mr-2"},h.a.createElement(S.Button,{variant:"primary",type:"submit"},"Submit")),h.a.createElement(S.ButtonGroup,null,h.a.createElement(x.LinkContainer,{to:"/issues"},h.a.createElement(S.Button,{variant:"link"},"Back")))))))),E),h.a.createElement(S.Card.Footer,null,h.a.createElement(I.Link,{to:"/edit/"+(t-1)},"Prev")," | ",h.a.createElement(I.Link,{to:"/edit/"+(t+1)},"Next"))))))}}var G=[{path:"/issues/:id?",component:P},{path:"/edit/:id",component:q},{path:"/report",component:function(){return h.a.createElement("div",null,h.a.createElement("h2",null,"portal for IssueReport "))}},{path:"/about",component:v},{path:"*",component:function(){return h.a.createElement("h1",null,"Page Not Found")}}];function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function z(){return h.a.createElement(I.Switch,null,h.a.createElement(I.Redirect,{exact:!0,from:"/",to:"/issues"}),G.map(e=>h.a.createElement(I.Route,U({},e,{key:e.path}))))}class H extends h.a.Component{constructor(e){super(e),this.state={showing:!1,owner:"",title:""},this.showModal=this.showModal.bind(this),this.hideModal=this.hideModal.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.onChangeTitle=this.onChangeTitle.bind(this),this.onChangeOwner=this.onChangeOwner.bind(this)}onChangeTitle(e){this.setState({title:e.target.value})}onChangeOwner(e){this.setState({owner:e.target.value})}showModal(){this.setState({showing:!0})}hideModal(){this.setState({showing:!1})}async handleSubmit(e){e.preventDefault();const{owner:t,title:n}=this.state,a={owner:t,title:n,due:new Date((new Date).getTime()+864e6)},s=await g("mutation issueAdd($issue:IssueInputs!){\n            issueAdd(issue:$issue){\n                id\n            }\n        }",{issue:a},this.showError);if(s){this.hideModal(),console.log("success");const{history:e}=this.props;e.push("/edit/"+s.issueAdd.id)}}render(){const{showing:e}=this.state;return h.a.createElement(h.a.Fragment,null,h.a.createElement(S.Nav.Link,{onClick:this.showModal},h.a.createElement(S.OverlayTrigger,{placement:"left",delayShow:1e3,overlay:h.a.createElement(S.Tooltip,null,"CreateIssue")},h.a.createElement(D.Plus,null))),h.a.createElement(S.Modal,{keyboard:!0,show:e,onHide:this.hideModal},h.a.createElement(S.Modal.Header,{closeButton:!0},h.a.createElement(S.Modal.Title,null," Create Issue ")),h.a.createElement(S.Modal.Body,null,h.a.createElement(S.Form,{name:"issueAdd"},h.a.createElement(S.FormGroup,null,h.a.createElement(S.FormLabel,null,"Owner:"),h.a.createElement(S.Form.Control,{name:"owner",onChange:this.onChangeOwner})),h.a.createElement(S.FormGroup,null,h.a.createElement(S.FormLabel,null,"Title:"),h.a.createElement(S.FormControl,{name:"title",onChange:this.onChangeTitle})),h.a.createElement(S.ButtonToolbar,null,h.a.createElement(S.ButtonGroup,{className:"mr-2"},h.a.createElement(S.Button,{variant:"primary",type:"button",onClick:this.handleSubmit},"Submit")),h.a.createElement(S.Button,{variant:"link",type:"button",onClick:this.hideModal},"Cancel"),h.a.createElement(S.ButtonGroup,null)))),h.a.createElement(S.Modal.Footer,null)))}}var K=Object(I.withRouter)(H);function J(){return h.a.createElement(S.Navbar,{bg:"light"},h.a.createElement(S.Navbar.Brand,null," Issue Tracker"),h.a.createElement(S.Nav,null,h.a.createElement(x.LinkContainer,{exact:!0,to:"/"},h.a.createElement(S.Nav.Link,null,"Home")),h.a.createElement(x.LinkContainer,{to:"/issues"},h.a.createElement(S.Nav.Link,null,"IssueList")),h.a.createElement(x.LinkContainer,{to:"/report"},h.a.createElement(S.Nav.Link,null,"Report"))),h.a.createElement(S.Nav,{className:"ml-auto"},h.a.createElement(K,null),h.a.createElement(S.NavDropdown,{title:h.a.createElement(D.ThreeDotsVertical,null),id:"nav-dropdown"},h.a.createElement(x.LinkContainer,{to:"/about"},h.a.createElement(S.Nav.Link,null,"About")))))}function X(){return h.a.createElement("div",null,h.a.createElement(J,null),h.a.createElement(S.Container,{fluid:!0},h.a.createElement(z,null)))}var Y=async function(e,t){const n=G.find(t=>Object(I.matchPath)(e.path,t));let a;if(n&&n.component.fetchData){const t=Object(I.matchPath)(e.path,n),s=e.url.indexOf("?"),r=-1!=s?e.url.substr(s):null;a=await n.component.fetchData(t,r)}d.intialData=a;const s={},r=h.a.createElement(I.StaticRouter,{location:e.url,context:s},h.a.createElement(X,null)),o=y.a.renderToString(r);s.url?t.redirect(301,s.url):t.send(function(e,t){return`<html>\n    <head>\n        <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n        <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" />        \n        <style>\n            .test{\n                color:blue;\n            }\n             .active {background-color: #D8D8F5;} \n             input.invalid {border-color: red;}\n             div.error {color: red;}\n            #nav-dropdown:after {\n                 display: none;\n            }\n            nav {\n                margin-bottom: 20px;\n            }\n            .card-header{\n                cursor: pointer;\n            }\n            table.table-hover tr {cursor: pointer;}\n        </style>\n    </head>\n    <body>\n        <div id="content">${e}</div>\n        <script>window.__INITIAL_DATA__=${w()(t)}<\/script> \n        \n    </body>\n    <script src="/env.js"><\/script>\n    <script src="/vendor.bundle.js"><\/script>\n    <script src="/app.bundle.js"><\/script>\n</html>`}(o,a))},Q=n(14),W=n.n(Q);const Z=o.a.config({path:u.a.resolve(process.cwd(),"sample.env")});Z.error&&console.log(Z.error);const ee=s()();W.a.install();const te=process.env.API_PROXY_TARGET;te&&ee.use("/graphql",Object(l.createProxyMiddleware)({target:te})),process.env.UI_API_ENDPOINT||(process.env.UI_API_ENDPOINT="http://localhost:3000/graphql"),process.env.UI_SERVER_API_ENDPOINT||(process.env.UI_SERVER_API_ENDPOINT=process.env.UI_API_ENDPOINT),ee.get("/env.js",(e,t)=>{const n={UI_API_ENDPOINT:process.env.UI_API_ENDPOINT};t.send("window.ENV="+JSON.stringify(n))});process.env.ENABLE_HMR;ee.use(s.a.static("public")),ee.get("*",(e,t,n)=>{Y(e,t,n)});const ne=process.env.UI_SERVER_PORT||8e3;ee.listen(ne,()=>{console.log("UI server listening on port",ne)})}]);
//# sourceMappingURL=server.js.map